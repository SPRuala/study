在一个非常困的2024.3.2的夜晚,我突然想试试把当初mybatis配置文件里的所有东西都搬到yaml里配置,总的来说一切正常,但在配log4j的时候,出现了警告,
这个警告本来很平淡,就是一直在重复说它找不到log4j的配置文件。
第一次改:
    确实是我忘记把log4j.properties文件创建出来了;
    创完之后重启项目发现依然有警告,但此时是一个非常完美的状态,日志开关已经配好开启,配置文件也躺在了classpath下
第二次改:
    发现properties文件只能放在根文件夹下,不能再套一个文件夹;
    修改后依然有警告
第三次改:
    搜索发现springboot1.3x+不支持log4j,只能用log4j2;但如果硬要用log4j也可以,只是需要多加一个commons-logging依赖
    所以试了试配置log4j2,发现要引log4j2的依赖,把yaml文件中的log4jImpl改为log4j2Impl,发现依然没用
第四次:
    搜到个文章,发现log4j2不能用properties文件配置,只能用xml,yml,json;还有springboot会优先用文件名带-spring的文件作为日志配置文件
    但他很奇怪,他说的有点乱（可能是太晚了我变笨了2024.3.2 1:10）,总之就是创建xml文件这一步是我没看明白怎么配,也没看明白我要干嘛;
    然后呢,我就改回用的log4j.properties,依赖多加了个commons-logging,然后把log4j2的依赖注掉了,但是把yaml文件中的log4j2Impl忘改了
    非常戏剧的是警告不见了(此时除了yaml里日志配的是log4j2,其他的都是log4j的样子),但仅仅是不见了,没看见日志跑哪去了,也没看见控制台有哪变了
第五次:
    又找了篇小作文,发现了第四次没配出来的两个问题
    1.只针对控制台没变化: 前面我眼瞎,没看见新加了log4j的话要把系统自带日志给过滤掉。系统日志会把log4j日志顶掉
       (但和第四次没配出来无关,第四次甚至都没创xml配置文件,能出来才有鬼了(所以我才怀疑警告去哪了))
    2.只针对xml创建: 挺好的,这个小作文写了要建个什么样的log4j2.xml(但它没写-spring啊？,嗯但是因为就这一个xml,也无所谓了)
    到此为止它终于配完了,我现在pom里都是log4j他一家子;
有输出的小日志是不错,但是控制台变得要丑死了,所以我把配好的日志又都给关了
                                                            --结束 2024.3.2 1:22

2024.3.2.1:28
我又把日志开关开了,但是把sb-starter-web的排除系统自带日志给注了。
控制台一开始会骂绑了好多日志,毕竟自带的日志和log4j2都开着,也不怪它,但是好歹控制台又变好看了,挺好的;
但它每次启动项目都骂一次烦死了,我都给关了;pom文件乱死了,还是得狠下心来给注掉的log4j2和排除自带日志删了--2024.3.2 1:32

那些依赖们都被我存到我的txt里了可以放心删了


